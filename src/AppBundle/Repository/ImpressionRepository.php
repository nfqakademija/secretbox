<?php

namespace AppBundle\Repository;

use AppBundle\Entity\Impression;

//todo arrey pakeist i []
//todo entity i Entity:class
//todo transparent menu
//todo kalbas i dropboxa
//todo deploy pasidaryt su migracijomis
//

/**
 * ImpressionRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class ImpressionRepository extends \Doctrine\ORM\EntityRepository
{
    /**
     * @param Impression $impression
     */
    public function saveImpression(Impression $impression)
    {
        $this->_em->persist($impression);
        $this->_em->flush();
    }

    /**
     * @param $userId
     *
     * @return array
     */
    public function getImpressions($userId)
    {
        $impressions = $this->findBy(['userId' => $userId], ['created' => 'DESC']);

        return $impressions;
    }
}
